/* =========================================
   ScriptFlow Popup - Modern UI
   ========================================= */

:root {
    --bg-base: #1a1b26;
    --bg-surface: #24253a;
    --bg-elevated: #2f3146;
    --bg-hover: #3a3d54;

    --text-primary: #e8e9f0;
    --text-secondary: #8b8fa3;
    --text-muted: #5c5f77;

    --accent: #bd93f9;
    --accent-glow: rgba(189, 147, 249, 0.3);
    --accent-dim: rgba(189, 147, 249, 0.15);

    --success: #50fa7b;
    --warning: #f1fa8c;
    --pro-gold: #ffd93d;

    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 14px;

    --transition-fast: 0.15s ease;
    --transition-normal: 0.25s ease;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    width: 320px;
    background: var(--bg-base);
    color: var(--text-primary);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    font-size: 13px;
    line-height: 1.5;
}

.container {
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* =========================================
   Header
   ========================================= */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--bg-elevated);
}

.brand {
    display: flex;
    align-items: center;
    gap: 10px;
}

.brand-logo {
    border-radius: var(--radius-sm);
    box-shadow: 0 2px 8px var(--accent-glow);
}

.brand-text {
    display: flex;
    flex-direction: column;
}

.brand-name {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-primary);
    letter-spacing: -0.3px;
}

.brand-tagline {
    font-size: 10px;
    color: var(--accent);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: 500;
}

/* Master Toggle */
.master-toggle {
    position: relative;
}

.toggle-input {
    display: none;
}

.toggle-label {
    display: block;
    width: 44px;
    height: 24px;
    background: var(--bg-elevated);
    border-radius: 12px;
    cursor: pointer;
    transition: var(--transition-normal);
    position: relative;
}

.toggle-switch {
    position: absolute;
    top: 3px;
    left: 3px;
    width: 18px;
    height: 18px;
    background: var(--text-secondary);
    border-radius: 50%;
    transition: var(--transition-normal);
}

.toggle-input:checked+.toggle-label {
    background: var(--accent);
}

.toggle-input:checked+.toggle-label .toggle-switch {
    transform: translateX(20px);
    background: white;
}

/* =========================================
   Pro Banner
   ========================================= */
.pro-banner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 14px;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: var(--transition-normal);
}

.pro-banner.inactive {
    background: linear-gradient(135deg, var(--bg-elevated) 0%, var(--bg-surface) 100%);
    border: 1px solid var(--bg-hover);
}

.pro-banner.inactive:hover {
    border-color: var(--accent);
    background: var(--bg-hover);
}

.pro-banner.active {
    background: linear-gradient(135deg, rgba(80, 250, 123, 0.15) 0%, rgba(139, 233, 253, 0.1) 100%);
    border: 1px solid rgba(80, 250, 123, 0.3);
}

.pro-banner-content {
    display: flex;
    align-items: center;
    gap: 8px;
}

.pro-crown {
    color: var(--pro-gold);
}

.pro-banner.active .pro-crown {
    color: var(--success);
}

#pro-banner-text {
    font-weight: 600;
    font-size: 12px;
}

.pro-banner.inactive #pro-banner-text {
    color: var(--text-secondary);
}

.pro-banner.active #pro-banner-text {
    color: var(--success);
}

.pro-arrow {
    color: var(--text-muted);
    transition: var(--transition-fast);
}

.pro-banner:hover .pro-arrow {
    color: var(--accent);
    transform: translateX(2px);
}

.pro-banner.active .pro-arrow {
    display: none;
}

/* License Panel */
.license-panel {
    display: none;
    flex-direction: column;
    gap: 10px;
    padding: 14px;
    background: var(--bg-surface);
    border-radius: var(--radius-md);
    border: 1px solid var(--bg-hover);
    animation: slideDown 0.2s ease;
}

.license-panel.visible {
    display: flex;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-8px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.license-input {
    width: 100%;
    padding: 12px;
    background: var(--bg-base);
    border: 1px solid var(--bg-hover);
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    font-family: 'SF Mono', 'Consolas', monospace;
    font-size: 13px;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.license-input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px var(--accent-dim);
}

.license-actions {
    display: flex;
    gap: 8px;
}

.btn {
    flex: 1;
    padding: 10px;
    border-radius: var(--radius-sm);
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition-fast);
    border: none;
}

.btn-primary {
    background: var(--accent);
    color: var(--bg-base);
}

.btn-primary:hover {
    filter: brightness(1.1);
}

.btn-ghost {
    background: transparent;
    color: var(--text-secondary);
    border: 1px solid var(--bg-hover);
}

.btn-ghost:hover {
    background: var(--bg-hover);
    color: var(--text-primary);
}

.license-message {
    font-size: 11px;
    text-align: center;
    min-height: 16px;
}

.license-message.error {
    color: #ff5555;
}

.license-message.success {
    color: var(--success);
}

/* =========================================
   Sections
   ========================================= */
.section {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.section-compact {
    gap: 8px;
}

.section-title {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 10px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    color: var(--text-muted);
}

.section-icon {
    font-size: 12px;
}

/* =========================================
   Theme Grid
   ========================================= */
.theme-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
}

.theme-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    padding: 10px 6px;
    background: var(--bg-surface);
    border: 2px solid transparent;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: var(--transition-normal);
    position: relative;
}

.theme-btn:hover {
    background: var(--bg-hover);
}

.theme-btn.active {
    border-color: var(--accent);
    background: var(--accent-dim);
}

.theme-btn.pro-locked:not(.active) {
    opacity: 0.7;
}

.theme-preview {
    width: 32px;
    height: 32px;
    border-radius: 6px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
}

.theme-preview-light {
    background: linear-gradient(135deg, #ffffff 50%, #e8e8e8 50%);
}

.theme-preview-dracula {
    background: linear-gradient(135deg, #282a36 50%, #44475a 50%);
}

.theme-preview-monokai {
    background: linear-gradient(135deg, #272822 50%, #49483e 50%);
}

.theme-preview-nord {
    background: linear-gradient(135deg, #2e3440 50%, #3b4252 50%);
}

.theme-preview-solarized {
    background: linear-gradient(135deg, #002b36 50%, #073642 50%);
}

.theme-preview-onedark {
    background: linear-gradient(135deg, #282c34 50%, #3e4451 50%);
}

.theme-preview-github {
    background: linear-gradient(135deg, #0d1117 50%, #161b22 50%);
}

.theme-preview-catppuccin {
    background: linear-gradient(135deg, #1e1e2e 50%, #313244 50%);
}

.theme-name {
    font-size: 10px;
    font-weight: 500;
    color: var(--text-secondary);
}

.theme-btn.active .theme-name {
    color: var(--accent);
}

.pro-tag {
    position: absolute;
    top: 4px;
    right: 4px;
    font-size: 7px;
    font-weight: 700;
    padding: 2px 4px;
    background: linear-gradient(135deg, var(--pro-gold) 0%, #ff8c00 100%);
    color: #1a1a2e;
    border-radius: 3px;
    text-transform: uppercase;
}

/* =========================================
   Features List
   ========================================= */
.features-list {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.feature-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 12px;
    background: var(--bg-surface);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: var(--transition-fast);
    position: relative;
}

.feature-item:hover {
    background: var(--bg-hover);
}

.feature-item.pro-locked:not(.unlocked) {
    opacity: 0.7;
}

.feature-left {
    display: flex;
    align-items: center;
    gap: 10px;
}

.feature-icon {
    font-size: 14px;
}

.feature-label {
    font-size: 13px;
    font-weight: 500;
    color: var(--text-primary);
}

.feature-checkbox {
    display: none;
}

.feature-switch {
    width: 36px;
    height: 20px;
    background: var(--bg-hover);
    border-radius: 10px;
    position: relative;
    transition: var(--transition-normal);
}

.feature-switch::before {
    content: '';
    position: absolute;
    top: 3px;
    left: 3px;
    width: 14px;
    height: 14px;
    background: var(--text-muted);
    border-radius: 50%;
    transition: var(--transition-normal);
}

.feature-checkbox:checked+.feature-switch {
    background: var(--accent);
}

.feature-checkbox:checked+.feature-switch::before {
    transform: translateX(16px);
    background: white;
}

/* =========================================
   Shortcuts
   ========================================= */
.shortcuts-row {
    display: flex;
    gap: 8px;
}

.shortcut {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    padding: 8px;
    background: var(--bg-surface);
    border-radius: var(--radius-sm);
}

.shortcut kbd {
    padding: 4px 8px;
    background: var(--bg-hover);
    border-radius: 4px;
    font-size: 10px;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    font-weight: 600;
    color: var(--accent);
}

.shortcut span {
    font-size: 9px;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

/* =========================================
   Footer
   ========================================= */
.footer {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 12px;
    padding-top: 8px;
    border-top: 1px solid var(--bg-elevated);
}

.footer-link {
    color: var(--text-muted);
    transition: var(--transition-fast);
}

.footer-link:hover {
    color: var(--text-primary);
}

.footer-version {
    font-size: 10px;
    color: var(--text-muted);
    font-weight: 500;
}

/* =========================================
   Font Size Slider
   ========================================= */
.slider-item {
    cursor: default;
}

.slider-control {
    display: flex;
    align-items: center;
    gap: 8px;
}

.slider-value {
    font-size: 11px;
    font-weight: 600;
    color: var(--accent);
    min-width: 32px;
    text-align: right;
}

.slider-input {
    width: 60px;
    height: 4px;
    -webkit-appearance: none;
    appearance: none;
    background: var(--bg-hover);
    border-radius: 2px;
    outline: none;
}

.slider-input::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 14px;
    height: 14px;
    background: var(--accent);
    border-radius: 50%;
    cursor: pointer;
    transition: var(--transition-fast);
}

.slider-input::-webkit-slider-thumb:hover {
    transform: scale(1.2);
}

.slider-input::-moz-range-thumb {
    width: 14px;
    height: 14px;
    background: var(--accent);
    border-radius: 50%;
    cursor: pointer;
    border: none;
}

.pro-locked.slider-item .slider-input {
    pointer-events: none;
    opacity: 0.5;
}